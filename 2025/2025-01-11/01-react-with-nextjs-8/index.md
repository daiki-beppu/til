---
date: 2025-01-11 08:51
title: react-with-nextjs-8
number: 01
labels: [react]
topics: [js/]
---

### å†…å®¹

State ã®ãƒªãƒ•ãƒˆã‚¢ãƒƒãƒ—ã«ã¤ã„ã¦

ãƒšãƒ¼ã‚¸é–“ã®çŠ¶æ…‹ã‚’å…±é€šåŒ–ã™ã‚‹(Next.js ã®ã¿

`_app.js` ã§å…±é€šåŒ–ã—ã¦ `props` ã§ã“ãƒšãƒ¼ã‚¸ã«æ¸¡ã™ã“ã¨ã§ãƒšãƒ¼ã‚¸é–“ã®å…±é€šåŒ–ãŒå¯èƒ½

<details>
<summary>ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰(ã‚¯ãƒªãƒƒã‚¯ã§é–‹ã)</summary>

```jsx
// _app.js

/* eslint-disable react/prop-types */
import 'src/styles/globals.css';

import { Geist, Geist_Mono } from 'next/font/google';
import Head from 'next/head';
import { useCounter } from 'src/hooks/useCounter';
import { useInput } from 'src/hooks/useInput';
import { useSetBgColor } from 'src/hooks/useSetBgColor';
import styles from 'src/styles/Home.module.css';

const geistSans = Geist({
  variable: '--font-geist-sans',
  subsets: ['latin'],
});

const geistMono = Geist_Mono({
  variable: '--font-geist-mono',
  subsets: ['latin'],
});

export default function App({ Component, pageProps }) {
  const counter = useCounter();
  const input = useInput();
  useSetBgColor();
  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <div
        className={`${styles.page} ${geistSans.variable} ${geistMono.variable}`}
      >
        {/*
        ã“ã“ã§ å­ãƒšãƒ¼ã‚¸ã«æ¸¡ã™ ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§
        count={count} ã¨ã„ã†ã‚ˆã†ã«ä¸€ã¤ãšã¤è¨˜è¿°ã—ãªãã¦è‰¯ããªã‚‹
        */}
        <Component {...pageProps} {...counter} {...input} />
      </div>
    </>
  );
}
```

å—ã‘å–ã‚‹æ–¹ã®è¨˜è¿°ã¯ 3 ãƒ‘ã‚¿ãƒ¼ãƒ³

- ãƒ‰ãƒƒãƒˆè¨˜æ³•ã§è¨˜è¿°ã™ã‚‹æ–¹æ³•
- å¼•æ•°æ™‚ç‚¹ã§åˆ†å‰²ä»£å…¥ã™ã‚‹æ–¹æ³•
- props ã‚’åˆ†å‰²ä»£å…¥ã™ã‚‹æ–¹æ³•

å€‹äººçš„ã«ã¯ ãƒ‰ãƒƒãƒˆè¨˜æ³•ã§è¨˜è¿°ã™ã‚‹æ–¹æ³•ãŒå¥½ã
ç†ç”±ã¯ã²ã¨ç›®ã§è¦ªã‹ã‚‰æ¸¡ã£ã¦ããŸã‚‚ã®ã ã¨ã„ã†ã®ãŒã‚ã‹ã‚‹ã‹ã‚‰
ãŸã ã€å†—é•·ãªè¨˜è¿°ã«ã¯ãªã‚‹

```jsx
// ãƒ‰ãƒƒãƒˆè¨˜æ³•
import Footer from 'src/components/Footer';
import Header from 'src/components/Header';
import Main from 'src/components/Main';
import styles from 'src/components/Main/Main.module.css';

export default function Home(props) {
  return (
    <>
      <Header />
      <main className={styles.main}>
        {props.isView ? <h1>{props.count}</h1> : null}
        <button onClick={props.handleView}>
          {props.isView ? 'éè¡¨ç¤º' : 'è¡¨ç¤º'}
        </button>
        <button onClick={props.handleClick}>ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†</button>

        <input type="text" value={props.text} onChange={props.handleChange} />
        <button onClick={props.handleAdd}>è¿½åŠ </button>
        <ul>
          {props.array.map((item) => {
            return <li key={item}>{item}</li>;
          })}
        </ul>
        <Main title="index" />
      </main>
      <Footer />
    </>
  );
}
```

```jsx
// å¼•æ•°æ™‚ç‚¹ã§åˆ†å‰²ä»£å…¥
import Footer from 'src/components/Footer';
import Header from 'src/components/Header';
import Main from 'src/components/Main';
import styles from 'src/components/Main/Main.module.css';

export default function Home({
  count,
  isView,
  handleClick,
  handleView,
  text,
  array,
  handleChange,
  handleAdd,
}) {
  return (
    <>
      <Header />
      <main className={styles.main}>
        {isView ? <h1>{count}</h1> : null}
        <button onClick={handleView}>{isView ? 'éè¡¨ç¤º' : 'è¡¨ç¤º'}</button>
        <button onClick={handleClick}>ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†</button>

        <input type="text" value={text} onChange={handleChange} />
        <button onClick={handleAdd}>è¿½åŠ </button>
        <ul>
          {array.map((item) => {
            return <li key={item}>{item}</li>;
          })}
        </ul>
        <Main title="index" />
      </main>
      <Footer />
    </>
  );
}
```

```jsx
// props ã‚’åˆ†å‰²ä»£å…¥ã™ã‚‹æ–¹æ³•
import Footer from 'src/components/Footer';
import Header from 'src/components/Header';
import Main from 'src/components/Main';
import styles from 'src/components/Main/Main.module.css';

export default function Home(props) {
  const {
    count,
    isView,
    handleClick,
    handleView,
    text,
    array,
    handleChange,
    handleAdd,
  } = props;
  return (
    <>
      <Header />
      <main className={styles.main}>
        {isView ? <h1>{count}</h1> : null}
        <button onClick={handleView}>{isView ? 'éè¡¨ç¤º' : 'è¡¨ç¤º'}</button>
        <button onClick={handleClick}>ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†</button>

        <input type="text" value={text} onChange={handleChange} />
        <button onClick={handleAdd}>è¿½åŠ </button>
        <ul>
          {array.map((item) => {
            return <li key={item}>{item}</li>;
          })}
        </ul>
        <Main title="index" />
      </main>
      <Footer />
    </>
  );
}
```

</details>

### ãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆ

## ğŸ” æ°—ã¥ããƒ»æ„Ÿæƒ³

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

## â­ï¸ æ¬¡ã«å­¦ã³ãŸã„ã“ã¨

## ğŸ“Œ é–¢é€£ã™ã‚‹éå»ã®å­¦ã³

---
